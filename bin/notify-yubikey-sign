#!/usr/bin/env bash

#terminal-notifier -sound default -title "git wants to sign a commit!" -message "Touch your YubiKey after submitting the User PIN"

osascript -e 'display notification "Touch your YubiKey after submitting the User PIN" with title "git wants to sign a commit!"'

gpg "$@"

if [[ "$?" -ne 0 ]]; then
   echo "Signing failed, exiting"
   exit -1
fi

echo "Signing completed"
